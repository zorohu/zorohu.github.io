<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="hexo"><meta name="keyword" content=""><link rel="shortcut icon" href="/img/favicon.ico"><title>mysql-master-slave - AuthorZero的博客 | AuthorZero&#39;s Blog</title><link rel="canonical" href="https://authorzero.com/2023/05/27/mysql-master-slave/"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/hux-blog.min.css"><link rel="stylesheet" href="/css/highlight.css"><link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><script></script><meta name="generator" content="Hexo 6.3.0"></head><body ontouchstart=""><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">AuthorZero的博客</a></div><div id="huxblog_navbar"><div class="navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");function handleMagic(e){0<$navbar.className.indexOf("in")?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}$toggle.addEventListener("click",handleMagic)</script><style type="text/css">header.intro-header{background-image:url(post-bg-2023.jpg)}</style><header class="intro-header"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><div class="tags"><a class="tag" href="/tags/#技术" title="技术">技术</a> <a class="tag" href="/tags/#数据库" title="数据库">数据库</a></div><h1>mysql-master-slave</h1><h2 class="subheading">&#34;mysql主从同步配置&#34;</h2><span class="meta">Posted by author.zero on 2023-05-27</span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container"><blockquote><p>“Whatever the soul knows how to seek, it cannot fail to obtain. ”</p></blockquote><h1 id="1-为什么需要主从复制"><a href="#1-为什么需要主从复制" class="headerlink" title="1.为什么需要主从复制"></a>1.为什么需要主从复制</h1><p>周所周知在服务器开发中，没有什么是可靠的包括网络硬盘等等一系列资源。所以就会出现服务器集群在一台机器出现问题的时候集群里的其他机器还能提供服务</p><ul><li><p>备份</p><p>备份很好解释，就是从节点从主节点同步数据，然后只作为备份的功能。但是其实这样做的很少，因为会浪费掉一台机器的资源，所以绝大部分公司都是使用主从做读写分离</p></li><li><p>读写分离</p><p>随着业务量的扩展、如果是单机部署的MySQL，会导致I&#x2F;O频率过高。采用<strong>主从复制、读写分离可以提高数据库的可用性</strong>。</p><p>因为在很多场景中，都是读多写少的情况，所以可以几台从节点同步一个主节点的信息。大大提升业务系统的效率</p></li></ul><h1 id="2-mysql主从配置的几种方式"><a href="#2-mysql主从配置的几种方式" class="headerlink" title="2.mysql主从配置的几种方式"></a>2.mysql主从配置的几种方式</h1><p>主从配置的原理也很简单，就是从节点读取主节点的binlog日志文件，然后在自己的节点上执行。所以主从同步需要开通主节点的binlog日志</p><h2 id="2-1异步复制"><a href="#2-1异步复制" class="headerlink" title="2.1异步复制"></a>2.1异步复制</h2><p>客户端发送DDL&#x2F;DML语句给master，<strong>master执行完毕立即返回成功信息给客户端，而不管slave是否已经开始复制</strong>。这样的复制方式导致的问题是，当master写完了binlog，而slave还没有开始复制或者复制还没完成时，<strong>slave上和master上的数据暂时不一致，且此时master突然宕机，slave将会丢失一部分数据。如果此时把slave提升为新的master，那么整个数据库就永久丢失这部分数据。</strong></p><p><img src="https://img.authorzero.com/img/733013-20180524205215240-203795747.png"></p><ul><li><p>默认就是异步复制，不安装半同步配置的插件即可</p><p><a href="#2.2.2">MySQL Server的配置文件</a></p></li></ul><h2 id="2-2半同步复制"><a href="#2-2半同步复制" class="headerlink" title="2.2半同步复制"></a>2.2半同步复制</h2><p>客户端发送DDL&#x2F;DML语句给master，master执行完毕后<strong>还要等待一个slave写完relay log并返回确认信息给master，master才认为此次DDL&#x2F;DML语句是成功的，然后才会发送成功信息给客户端</strong>。半同步复制只需等待一个slave的回应，且等待的超时时间可以设置，超时后会自动降级为异步复制，所以在局域网内(网络延迟很小)使用半同步复制是可行的。</p><p><img src="https://img.authorzero.com/img/733013-20180524205148967-868029789-1623083552625.png"></p><h3 id="2-2-1开启插件"><a href="#2-2-1开启插件" class="headerlink" title="2.2.1开启插件"></a>2.2.1开启插件</h3><p>使用INSTALL语句在master上安装 <em>semisync_master.so</em> 插件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">mysql&gt; </span><span class="language-bash">install plugin rpl_semi_sync_master soname <span class="string">&#x27;semisync_master.so&#x27;</span>;</span></span><br></pre></td></tr></table></figure><p>安装插件后，应该使用<code>show plugins</code>来查看插件是否真的激活。</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">mysql&gt; show plugins;</span></span><br><span class="line"><span class="section">+----------------------+--------+-------------+--------------------+---------+</span></span><br><span class="line"><span class="section">| Name                 | Status | Type        | Library            | License |</span></span><br><span class="line"><span class="section">+----------------------+--------+-------------+--------------------+---------+</span></span><br><span class="line"><span class="code">......</span></span><br><span class="line"><span class="code">| rpl_semi_sync_master | ACTIVE | REPLICATION | semisync_master.so | GPL     |</span></span><br><span class="line"><span class="code">+----------------------+--------+-------------+--------------------+---------+</span></span><br></pre></td></tr></table></figure><p>或者查看<code>information_schema.plugins</code>表获取更详细的信息。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from information<span class="emphasis">_schema.plugins where plugin_</span>name like &quot;%semi%&quot;\G</span><br><span class="line"><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">*** 1. row **</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span>*</span><br><span class="line"><span class="code">           PLUGIN_NAME: rpl_semi_sync_master</span></span><br><span class="line"><span class="code">        PLUGIN_VERSION: 1.0</span></span><br><span class="line"><span class="code">         PLUGIN_STATUS: ACTIVE</span></span><br><span class="line"><span class="code">           PLUGIN_TYPE: REPLICATION</span></span><br><span class="line"><span class="code">   PLUGIN_TYPE_VERSION: 4.0</span></span><br><span class="line"><span class="code">        PLUGIN_LIBRARY: semisync_master.so</span></span><br><span class="line"><span class="code">PLUGIN_LIBRARY_VERSION: 1.7</span></span><br><span class="line"><span class="code">         PLUGIN_AUTHOR: He Zhenxing</span></span><br><span class="line"><span class="code">    PLUGIN_DESCRIPTION: Semi-synchronous replication master</span></span><br><span class="line"><span class="code">        PLUGIN_LICENSE: GPL</span></span><br><span class="line"><span class="code">           LOAD_OPTION: ON</span></span><br><span class="line"><span class="code">1 row in set (0.00 sec)</span></span><br></pre></td></tr></table></figure><p>插件装载完成后，半同步功能还未开启，需要手动设置它们启动，或者写入配置文件永久生效。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 开启master的半同步</span></span><br><span class="line">mysql&gt; <span class="built_in">set</span> @@global.<span class="attribute">rpl_semi_sync_master_enabled</span>=1;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启slave半同步</span></span><br><span class="line">mysql&gt; <span class="built_in">set</span> @@globale.<span class="attribute">rpl_semi_sync_slave_enabled</span>=1;</span><br></pre></td></tr></table></figure><h3 id="2-2-2MySQL-Server的配置文件"><a href="#2-2-2MySQL-Server的配置文件" class="headerlink" title="2.2.2MySQL Server的配置文件"></a>2.2.2MySQL Server的配置文件</h3><p>以下是master的配置文件。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">datadir</span>=/data</span><br><span class="line"><span class="attr">socket</span>=/data/mysql.sock</span><br><span class="line"><span class="attr">log-error</span>=/data/error.log</span><br><span class="line"><span class="attr">pid-file</span>=/data/mysqld.pid</span><br><span class="line"><span class="attr">log-bin</span>=/data/master-bin</span><br><span class="line"><span class="attr">sync-binlog</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">server-id</span>=<span class="number">100</span></span><br><span class="line"><span class="attr">plugin-load</span>=<span class="string">&quot;rpl_semi_sync_master=semisync_master.so&quot;</span></span><br><span class="line"><span class="attr">rpl_semi_sync_master_enabled</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure><p>以下是slave1的配置文件，注意slave1同时还充当着slave2和slave3的master的角色。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line"><span class="attribute">datadir</span>=/data</span><br><span class="line"><span class="attribute">socket</span>=/data/mysql.sock</span><br><span class="line"><span class="attribute">log-error</span>=/data/error.log</span><br><span class="line"><span class="attribute">pid-file</span>=/data/mysqld.pid</span><br><span class="line"><span class="attribute">log-bin</span>=/data/master-bin</span><br><span class="line"><span class="attribute">sync-binlog</span>=1</span><br><span class="line"><span class="attribute">server-id</span>=110</span><br><span class="line"><span class="attribute">relay-log</span>=/data/slave-bin</span><br><span class="line">log-slave-updates</span><br><span class="line"><span class="attribute">plugin-load</span>=<span class="string">&quot;rpl_semi_sync_master=semisync_master.so;rpl_semi_sync_slave=semisync_slave.so&quot;</span></span><br><span class="line"><span class="attribute">rpl_semi_sync_slave_enabled</span>=1</span><br><span class="line"><span class="attribute">rpl_semi_sync_master_enabled</span>=1</span><br></pre></td></tr></table></figure><p>以下是slave2和slave3的配置文件，它们配置文件除了<em>server-id</em>外都一致。</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="attr">datadir</span>=/data</span><br><span class="line"><span class="attr">socket</span>=/data/mysql.sock</span><br><span class="line"><span class="attr">log-error</span>=/data/error.log</span><br><span class="line"><span class="attr">pid-file</span>=/data/mysqld.pid</span><br><span class="line"><span class="attr">server-id</span>=<span class="number">120</span>      <span class="comment"># slave3的server-id=130</span></span><br><span class="line"><span class="attr">relay-log</span>=/data/slave-bin</span><br><span class="line"><span class="attr">plugin-load</span>=<span class="string">&quot;rpl_semi_sync_slave=semisync_slave.so&quot;</span></span><br><span class="line"><span class="attr">rpl_semi_sync_slave_enabled</span>=<span class="number">1</span></span><br><span class="line"><span class="attr">read-only</span>=<span class="literal">on</span></span><br></pre></td></tr></table></figure><h3 id="2-2-3启动复制线程"><a href="#2-2-3启动复制线程" class="headerlink" title="2.2.3启动复制线程"></a>2.2.3启动复制线程</h3><p>现在master上创建一个专门用于复制的用户。</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="keyword">create</span> <span class="keyword">user</span> repl@<span class="string">&#x27;192.168.100.%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;P@ssword1!&#x27;</span>;</span><br><span class="line">mysql&gt; <span class="keyword">grant</span> <span class="keyword">replication</span> slave <span class="keyword">on</span> *.* <span class="keyword">to</span> repl@<span class="string">&#x27;192.168.100.%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>因为master和所有的slave都是全新的实例，所以slave上指定的binlog坐标可以从任意位置开始。不过刚才master上创建了一个用户，也会写binlog，所以建议还是从master的第一个binlog的position&#x3D;4开始。</p><p>以下是slave1上的<code>change master to</code>参数：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; change master <span class="keyword">to</span></span><br><span class="line">            <span class="attribute">master_host</span>=<span class="string">&#x27;192.168.100.21&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_port</span>=3306,</span><br><span class="line">            <span class="attribute">master_user</span>=<span class="string">&#x27;repl&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_password</span>=<span class="string">&#x27;P@ssword1!&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_log_file</span>=<span class="string">&#x27;master-bin.000001&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_log_pos</span>=4;</span><br></pre></td></tr></table></figure><p>以下是slave2和slave3的<code>change master to</code>参数：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; change master <span class="keyword">to</span></span><br><span class="line">            <span class="attribute">master_host</span>=<span class="string">&#x27;192.168.100.22&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_port</span>=3306,</span><br><span class="line">            <span class="attribute">master_user</span>=<span class="string">&#x27;repl&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_password</span>=<span class="string">&#x27;P@ssword1!&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_log_file</span>=<span class="string">&#x27;master-bin.000001&#x27;</span>,</span><br><span class="line">            <span class="attribute">master_log_pos</span>=4;</span><br></pre></td></tr></table></figure><p>启动各slave上的两个SQL线程。</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; <span class="literal">start</span> <span class="literal">slave</span>;</span><br></pre></td></tr></table></figure><p>一切就绪后，剩下的事情就是测试。在master上对数据做一番修改，然后查看是否会同步到slave1、slave2、slave3上。</p><ul><li><strong>注意如果出现错误，请先查看日志文件名称和日志位点是否正确！！！</strong></li></ul><h2 id="同步复制"><a href="#同步复制" class="headerlink" title="同步复制"></a>同步复制</h2><p>客户端发送DDL&#x2F;DML语句给master，master执行完毕后还需要<strong>等待所有的slave都写完了relay log才认为此次DDL&#x2F;DML成功，然后才会返回成功信息给客户端</strong>。同步复制的问题是master必须等待，所以延迟较大，在MySQL中不使用这种复制方式。</p><p><img src="https://img.authorzero.com/img/733013-20180524204948187-2045181991.png"></p><ul><li>使用Mysql Cluster</li></ul><h1 id="未来展望"><a href="#未来展望" class="headerlink" title="未来展望"></a>未来展望</h1><p>现如今来说，已经有mysql集群的强一致性方案了</p><ul><li><p>官方的 MySQL官方的 Group Replication （MGR）方案，通过 Paxos 协议提供数据库集群节点数据强一致保证，超越了传统的主从架构</p></li><li><p>meta公司也宣布了基于raft协议实现的mysql的强一致性方案</p></li></ul><p>另外，现如今分布式数据库也是大厂都在研究的，推出了很多云服务，例如：<a target="_blank" rel="noopener" href="https://aws.amazon.com/cn/rds/aurora/global-database/">AWS aurora</a>，<a target="_blank" rel="noopener" href="https://www.snowflake.com/en/">snowflake</a>等所以在未来一定会有越来越多的解决方案，而不仅仅局限于mysql</p><h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/f-ck-need-u/p/9155003.html">https://www.cnblogs.com/f-ck-need-u/p/9155003.html</a></p><p><a target="_blank" rel="noopener" href="https://engineering.fb.com/2023/05/16/data-infrastructure/mysql-raft-meta/">https://engineering.fb.com/2023/05/16/data-infrastructure/mysql-raft-meta/</a></p><hr><ul class="pager"><li class="next"><a href="/2023/04/08/git-use/" data-toggle="tooltip" data-placement="top" title="git-use">Next Post &rarr;</a></li></ul></div><div class="col-lg-2 col-lg-offset-0 visible-lg-block sidebar-container catalog-container"><div class="side-catalog"><hr class="hidden-sm hidden-xs"><h5><a class="catalog-toggle" href="#">CATALOG</a></h5><ul class="catalog-body"></ul></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 sidebar-container"><section><h5><a href="/tags/">FEATURED TAGS</a></h5><div class="tags"><a class="tag" href="/tags/#技术" title="技术">技术</a> <a class="tag" href="/tags/#数据库" title="数据库">数据库</a></div></section><hr><h5>FRIENDS</h5><ul class="list-inline"><li><a href="http://blog.kaijun.rocks" target="_blank">Kaijun&#39;s Blog</a></li><li><a href="http://huangxuan.me" target="_blank">Hux Blog</a></li><li><a href="#" target="_blank">Foo</a></li><li><a href="#" target="_blank">Bar</a></li><li><a href="#" target="_blank">Example Friends</a></li><li><a href="#" target="_blank">It helps SEO</a></li></ul></div></div></div></article><script>function async(e,n){var t=document,a="script",r=t.createElement(a),c=t.getElementsByTagName(a)[0];r.src=e,n&&r.addEventListener("load",function(e){n(null,e)},!1),c.parentNode.insertBefore(r,c)}</script><script>async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){anchors.options={visible:"always",placement:"right",icon:"#"},anchors.add().remove(".intro-header h1").remove(".subheading").remove(".sidebar-container h5")})</script><style>@media all and (min-width:800px){.anchorjs-link{position:absolute;left:-.75em;font-size:1.1em;margin-top:-.1em}}</style><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a target="_blank" href="https://twitter.com/author22282473"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" href="https://www.zhihu.com/people/auth0"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-stack-1x fa-inverse">知</i></span></a></li><li><a target="_blank" href="https://weibo.com/ZoroP"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-weibo fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" href="https://www.facebook.com/author.zero"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" href="https://github.com/zorohu"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" href="https://www.linkedin.com/in/author.zero"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; AuthorZero的博客 2018 - 2023 <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">鄂ICP备20003318号</a><br>Theme by <a target="_blank" rel="noopener" href="https://huangxuan.me">Hux</a> <span style="display:inline-block;margin:0 5px"><i class="fa fa-heart"></i> </span>Ported by <a target="_blank" rel="noopener" href="https://blog.kaijun.rocks">Kaijun</a> |<iframe style="margin-left:2px;margin-bottom:-5px" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true"></iframe><br><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次 本站访客数<span id="busuanzi_value_site_uv"></span>人次 本文总阅读量<span id="busuanzi_value_page_pv"></span>次</span><br><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date(2018,4,13,19,23,16);now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已安全运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script></p></div></div></div></footer><script src="/js/jquery.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/hux-blog.min.js"></script><script>function async(e,n){var t=document,a="script",r=t.createElement(a),c=t.getElementsByTagName(a)[0];r.src=e,n&&r.addEventListener("load",function(e){n(null,e)},!1),c.parentNode.insertBefore(r,c)}</script><script>0!==$("#tag_cloud").length&&async("https://authorzero.com/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js",function(){var c=document.querySelector("nav");c&&FastClick.attach(c)})</script><script>var _gaId="UA-49627206-1",_gaDomain="huangxuan.me";!function(a,e,n,g,t,c){a.GoogleAnalyticsObject=g,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=+new Date,t=e.createElement(n),c=e.getElementsByTagName(n)[0],t.async=1,t.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(t,c)}(window,document,"script","ga"),ga("create",_gaId,_gaDomain),ga("send","pageview")</script><script>var _baId="4cc1f2d8f3067386cc5cdb626a202900",_hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?"+_baId;var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(e,c)}()</script><script type="text/javascript">function generateCatalog(e){_containerSelector="div.post-container";var a,l,n,t,o,c=$(_containerSelector).find("h1,h2,h3,h4,h5,h6");return $(e).html(""),c.each(function(){a=$(this).prop("tagName").toLowerCase(),t="#"+$(this).prop("id"),l=$(this).text(),o=$('<a href="'+t+'" rel="nofollow">'+l+"</a>"),n=$('<li class="'+a+'_nav"></li>').append(o),$(e).append(n)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),async("/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script><img src="https://authorzero.com/img/icon_wechat.png" width="0" height="0"></body></html>